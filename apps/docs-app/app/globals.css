@import "tailwindcss";
@import 'fumadocs-ui/css/preset.css';
@import 'fumadocs-twoslash/twoslash.css';

/* Fonts */
@theme inline {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

/* Fumadocs layout width - controls max width of docs layout */
:root {
  --fd-layout-width: 1400px; /* Default is 97rem (~1552px) */
}

/* Custom max-widths for blog and other pages */
@theme {
  --max-width-page: 90rem; /* 1440px - matches blog design */
}

/* Journium Slate Color Palette - override Fumadocs defaults */
@theme {
  --color-fd-background: oklch(1 0 0);
  --color-fd-foreground: oklch(0.129 0.042 264.695);
  --color-fd-card: oklch(1 0 0);
  --color-fd-card-foreground: oklch(0.129 0.042 264.695);
  --color-fd-popover: oklch(1 0 0);
  --color-fd-popover-foreground: oklch(0.129 0.042 264.695);
  --color-fd-primary: oklch(0.208 0.042 265.755);
  --color-fd-primary-foreground: oklch(0.984 0.003 247.858);
  --color-fd-secondary: oklch(0.968 0.007 247.896);
  --color-fd-secondary-foreground: oklch(0.208 0.042 265.755);
  --color-fd-muted: oklch(0.968 0.007 247.896);
  --color-fd-muted-foreground: oklch(0.554 0.046 257.417);
  --color-fd-accent: oklch(0.968 0.007 247.896);
  --color-fd-accent-foreground: oklch(0.208 0.042 265.755);
  --color-fd-border: oklch(0.929 0.013 255.508);
  --color-fd-ring: oklch(0.704 0.04 256.788);
  --color-fd-overlay: hsla(0, 0%, 0%, 0.2);
}

/* Static colors - these don't change with theme */
@theme static {
  --color-fd-info: oklch(62.3% 0.214 259.815);
  --color-fd-warning: oklch(76.9% 0.188 70.08);
  --color-fd-error: oklch(63.7% 0.237 25.331);
  --color-fd-success: oklch(72.3% 0.219 149.579);
  --color-fd-idea: oklch(70.5% 0.209 60.849);
  --color-fd-diff-remove: rgba(200, 10, 100, 0.12);
  --color-fd-diff-remove-symbol: rgb(230, 10, 100);
  --color-fd-diff-add: rgba(14, 180, 100, 0.1);
  --color-fd-diff-add-symbol: rgb(10, 200, 100);
}

/* Dark mode - Slate palette */
.dark {
  --color-fd-background: oklch(0.129 0.042 264.695);
  --color-fd-foreground: oklch(0.984 0.003 247.858);
  --color-fd-card: oklch(0.208 0.042 265.755);
  --color-fd-card-foreground: oklch(0.984 0.003 247.858);
  --color-fd-popover: oklch(0.208 0.042 265.755);
  --color-fd-popover-foreground: oklch(0.984 0.003 247.858);
  --color-fd-primary: oklch(0.929 0.013 255.508);
  --color-fd-primary-foreground: oklch(0.208 0.042 265.755);
  --color-fd-secondary: oklch(0.279 0.041 260.031);
  --color-fd-secondary-foreground: oklch(0.984 0.003 247.858);
  --color-fd-muted: oklch(0.279 0.041 260.031);
  --color-fd-muted-foreground: oklch(0.704 0.04 256.788);
  --color-fd-accent: oklch(0.279 0.041 260.031);
  --color-fd-accent-foreground: oklch(0.984 0.003 247.858);
  --color-fd-border: oklch(1 0 0 / 10%);
  --color-fd-ring: oklch(0.551 0.027 264.364);
  --color-fd-overlay: hsla(0, 0%, 0%, 0.2);
}

/* Ensure proper theming - Fumadocs uses CSS variables for theming */
/* The RootProvider handles theme switching via next-themes */
html {
  color-scheme: light dark;
}

/* Let Fumadocs components handle their own backgrounds */
/* Don't set body background/color as it conflicts with Fumadocs theming */

/* Vaul drawer styles */
[vaul-drawer] {
  touch-action: none;
  transition: transform 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[vaul-drawer][vaul-drawer-direction="bottom"] {
  transform: translate3d(0, 100%, 0);
}

[vaul-drawer][vaul-drawer-direction="top"] {
  transform: translate3d(0, -100%, 0);
}

[vaul-drawer][data-state="open"] {
  transform: translate3d(0, 0, 0);
}

[vaul-overlay] {
  opacity: 0;
  transition: opacity 0.5s cubic-bezier(0.32, 0.72, 0, 1);
}

[vaul-overlay][data-state="open"] {
  opacity: 1;
}

/* Prevent body scroll when drawer is open */
[vaul-drawer-wrapper][data-state="open"] body {
  overflow: hidden;
}

/* Custom List component - similar to fumadocs Steps but for numbered lists */
.fd-list {
  counter-reset: list-item;
  position: relative;
  padding-left: 1.25rem; /* Reduced spacing between number and text */
  margin-left: 0.5rem;
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

@media (min-width: 640px) {
  .fd-list {
    margin-left: 1rem;
    padding-left: 1.5rem; /* Reduced spacing between number and text */
  }
}

/* Support for explicit ListItem components */
.fd-list-item {
  position: relative;
  margin-bottom: -1rem; /* Reduced from 2rem */
  margin-top: -1rem;
  padding-left: 0;
}

.fd-list-item:last-child {
  margin-bottom: 0;
}

.fd-list-item::before {
  background-color: var(--color-fd-secondary);
  color: var(--color-fd-secondary-foreground);
  content: counter(list-item);
  counter-increment: list-item;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.75rem; /* 12px - smaller font */
  line-height: 1rem;
  font-weight: 500;
  position: absolute;
  width: 1.5rem; /* 24px */
  height: 1.5rem; /* 24px */
  border-radius: 9999px;
  left: -1.75rem; /* Closer to text */
  top: 0.125rem; /* Slight vertical adjustment */
}

@media (min-width: 640px) {
  .fd-list-item::before {
    left: -2rem; /* Closer to text on larger screens */
  }
}
